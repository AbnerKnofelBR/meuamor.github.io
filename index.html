<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Site Namoro Mobile</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body, html {
      width: 100%;
      height: 100%;
      overflow-x: hidden;
      scroll-snap-type: y mandatory;
      font-family: Arial, sans-serif;
      background: #fff;
    }
    section {
      width: 100%;
      height: 100vh;
      scroll-snap-align: start;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 1rem;
      text-align: center;
    }
    .hearts {
      position: absolute;
      width: 100%;
      height: 100%;
      overflow: hidden;
      top: 0;
      left: 0;
      z-index: -1;
    }
    .heart {
      position: absolute;
      color: red;
      font-size: 1.5rem;
      animation: float 10s infinite;
    }
    @keyframes float {
      0% { transform: translateY(100vh); opacity: 1; }
      100% { transform: translateY(-10vh); opacity: 0; }
    }
    h1 { font-size: 2rem; margin-bottom: 1rem; }
    p { font-size: 1.2rem; }
    .arrow {
      position: absolute;
      bottom: 1rem;
      font-size: 2rem;
      animation: bounce 1s infinite;
    }
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    .gallery {
      display: flex;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      width: 100%;
      height: 80%;
    }
    .gallery img {
      flex: 0 0 100%;
      object-fit: cover;
      scroll-snap-align: center;
    }
    .date-boxes {
      display: flex;
      gap: .5rem;
      flex-wrap: wrap;
      justify-content: center;
    }
    .date-box {
      background: #eee;
      padding: .8rem;
      border-radius: 8px;
      min-width: 80px;
    }
    button {
      padding: 1rem 2rem;
      margin: 1rem;
      border: none;
      border-radius: 8px;
      font-size: 1.2rem;
      cursor: pointer;
    }
    .yes { background: #4CAF50; color: white; }
    .no { background: #f44336; color: white; position: relative; }
    #thankyou, #timerPage { display: none; flex-direction: column; }
  </style>
</head>
<body>
  <!-- Música de fundo -->
  <div id="player"></div>

  <!-- Tela 1 -->
  <section>
    <div class="hearts" id="hearts"></div>
    <h1>Nosso Amor ❤️</h1>
    <p>Um site só nosso, cheio de memórias e carinho.</p>
    <div class="arrow">⬇️</div>
  </section>

  <!-- Tela 2 -->
  <section>
    <h1>Nossas Fotos 📸</h1>
    <div class="gallery">
      <img src="https://picsum.photos/400/600?1" alt="foto1">
      <img src="https://picsum.photos/400/600?2" alt="foto2">
      <img src="https://picsum.photos/400/600?3" alt="foto3">
    </div>
  </section>

  <!-- Tela 3 -->
  <section>
    <h1>Desde que nos conhecemos</h1>
    <div class="date-boxes" id="since"></div>
  </section>

  <!-- Tela 4 -->
  <section id="question">
    <h1>Deseja iniciar o temporizador para o pedido de namoro? 💍</h1>
    <div>
      <button class="yes" id="yesBtn">Sim</button>
      <button class="no" id="noBtn">Não</button>
    </div>
  </section>

  <!-- Página Temporizador -->
  <section id="timerPage">
    <h1>Nosso Pedido ❤️</h1>
    <div id="timer"></div>
  </section>

  <!-- Página Agradecimento -->
  <section id="thankyou">
    <h1>Obrigado por tudo ❤️</h1>
    <div>
      <button class="yes" id="yesBtn2">Sim</button>
      <button class="no" id="noBtn2">Não</button>
    </div>
  </section>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      // Corações animados
      const heartsContainer = document.getElementById("hearts");
      setInterval(() => {
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.textContent = "❤️";
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.fontSize = (Math.random() * 1.5 + 1) + "rem";
        heartsContainer.appendChild(heart);
        setTimeout(() => heart.remove(), 10000);
      }, 500);

      // Data desde que se conheceram
      const sinceBox = document.getElementById("since");
      const startDate = new Date("2025-01-18T00:00:00");
      setInterval(() => {
        const now = new Date();
        let diff = Math.floor((now - startDate) / 1000);
        const days = Math.floor(diff / 86400);
        diff %= 86400;
        const hours = Math.floor(diff / 3600);
        diff %= 3600;
        const minutes = Math.floor(diff / 60);
        const seconds = diff % 60;
        sinceBox.innerHTML = `
          <div class="date-box">Dias: ${days}</div>
          <div class="date-box">Horas: ${hours}</div>
          <div class="date-box">Min: ${minutes}</div>
          <div class="date-box">Seg: ${seconds}</div>`;
      }, 1000);

      // Botão Não que foge
      function makeButtonDodge(btn) {
        btn.addEventListener("mouseenter", () => {
          btn.style.position = "absolute";
          btn.style.top = Math.random() * 80 + "%";
          btn.style.left = Math.random() * 80 + "%";
        });
      }
      makeButtonDodge(document.getElementById("noBtn"));
      makeButtonDodge(document.getElementById("noBtn2"));

      // Lógica Sim/Não
      const yesBtn = document.getElementById("yesBtn");
      const timerPage = document.getElementById("timerPage");
      const question = document.getElementById("question");
      const thankyou = document.getElementById("thankyou");
      const yesBtn2 = document.getElementById("yesBtn2");

      yesBtn.addEventListener("click", () => {
        if (!localStorage.getItem("proposalStart")) {
          localStorage.setItem("proposalStart", Date.now());
        }
        question.style.display = "none";
        timerPage.style.display = "flex";
      });

      yesBtn2.addEventListener("click", () => {
        if (!localStorage.getItem("proposalStart")) {
          localStorage.setItem("proposalStart", Date.now());
        }
        thankyou.style.display = "none";
        timerPage.style.display = "flex";
      });

      // Temporizador 3 meses
      const timerEl = document.getElementById("timer");
      setInterval(() => {
        const start = localStorage.getItem("proposalStart");
        if (start) {
          const startDate = new Date(parseInt(start));
          const target = new Date(startDate);
          target.setMonth(target.getMonth() + 3);
          const now = new Date();
          const diff = target - now;
          if (diff > 0) {
            let s = Math.floor(diff / 1000);
            const d = Math.floor(s / 86400);
            s %= 86400;
            const h = Math.floor(s / 3600);
            s %= 3600;
            const m = Math.floor(s / 60);
            s %= 60;
            timerEl.innerHTML = `Faltam ${d}d ${h}h ${m}m ${s}s para 3 meses do pedido ❤️`;
          } else {
            timerEl.innerHTML = "Já passaram 3 meses desde o pedido! ❤️";
          }
        }
      }, 1000);
    });

    // YouTube API
    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    var player;
    function onYouTubeIframeAPIReady() {
      player = new YT.Player('player', {
        height: '0',
        width: '0',
        videoId: 'XdglM81b4g8',
        playerVars: {
          autoplay: 1,
          loop: 1,
          playlist: 'XdglM81b4g8'
        },
        events: {
          'onReady': onPlayerReady
        }
      });
    }
    function onPlayerReady(event) {
      event.target.playVideo();
    }
  </script>
</body>
</html>
