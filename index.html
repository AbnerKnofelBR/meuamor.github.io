import React, { useState, useEffect } from 'react';
import './App.css'; // Importe seu CSS

function App() {
  const [timer, setTimer] = useState(0);
  const [showTimerPage, setShowTimerPage] = useState(false);

  useEffect(() => {
    if (timer > 0) {
      const interval = setInterval(() => {
        setTimer((prev) => prev - 1);
      }, 1000);
      return () => clearInterval(interval);
    }
  }, [timer]);

  const startTimer = () => {
    setTimer(90 * 24 * 60 * 60); // 90 dias em segundos
    setShowTimerPage(true);
  };

  const getMoonPhase = () => {
    const date = new Date('2025-01-18');
    // Lógica simples para determinar a fase da lua
    return 'Cheia'; // Exemplo: substituir com cálculo real
  };

  return (
    <div>
      <audio autoPlay loop src="/path/to/your/music.mp3" />
      
      {/* Seção 1 */}
      <section className="section bg-heart">
        <h1>Olá, meu amor!</h1>
        <p>Esta é a nossa história.</p>
        <button className="down-arrow" onClick={() => window.scrollTo(0, window.innerHeight)}>{"↓"}</button>
      </section>

      {/* Seção 2 */}
      <section className="section bg-heart">
        <h2>Memórias</h2>
        <div className="carousel">
          {/* Carrossel de imagens aqui */}
        </div>
        <button className="down-arrow" onClick={() => window.scrollTo(0, window.innerHeight)}>{"↓"}</button>
      </section>

      {/* Seção 3 */}
      <section className="section bg-stars">
        <h2>O Sistema Solar</h2>
        <div className="solar-animation">
          {/* Animação do Sistema Solar aqui */}
        </div>
        <div className="timer">
          <div>Meses: {Math.floor(timer / (30 * 24 * 60 * 60))}</div>
          <div>Dias: {Math.floor((timer % (30 * 24 * 60 * 60)) / (24 * 60 * 60))}</div>
          <div>Horas: {Math.floor((timer % (24 * 60 * 60)) / (60 * 60))}</div>
          <div>Minutos: {Math.floor((timer % (60 * 60)) / 60)}</div>
          <div>Segundos: {timer % 60}</div>
        </div>
        <button className="down-arrow" onClick={() => window.scrollTo(0, window.innerHeight)}>{"↓"}</button>
      </section>

      {/* Seção 4 */}
      <section className="section bg-heart">
        <h2>Fase da Lua</h2>
        <div className="moon-animation">
          {/* Animação da lua aqui, usando getMoonPhase() */}
        </div>
        <button className="down-arrow" onClick={() => window.scrollTo(0, window.innerHeight)}>{"↓"}</button>
      </section>

      {/* Seção 5 */}
      <section className="section bg-heart">
        <h2>Quer continuar essa história?</h2>
        <button onClick={startTimer}>Sim</button>
        <button onClick={() => alert("Obrigado! Redirecionando...")}>Não</button>
      </section>

      {showTimerPage && (
        <div className="timer-page">
          <h2>Contagem Regressiva</h2>
          {/* Temporizador de 3 meses aqui */}
          <p>Agradecemos por essa jornada!</p>
        </div>
      )}
    </div>
  );
}

export default App;
